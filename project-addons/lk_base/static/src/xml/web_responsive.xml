<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <!-- Template for buttons that display only the icon in xs -->
    <t t-name="web_responsive.icon_button">
        <i t-attf-class="fa fa-#{icon}" t-att-title="label" />
        <span class="d-none d-sm-inline" t-esc="label" />
    </t>

    <t t-name="web_responsive.MenuStatusbarButtons">
        <div class="dropdown">
            <button
                class="o_statusbar_buttons_dropdown btn btn-secondary dropdown-toggle"
                type="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
            >
                <t t-call="web_responsive.icon_button">
                    <t t-set="icon" t-value="'cogs'" />
                    <t t-set="label">Action</t>
                </t>
            </button>
            <!-- A div.o_statusbar_buttons.dropdown-menu
                 is appended here from JS -->
        </div>
    </t>

    <t t-extend="FormView.buttons">
        <!-- Change "Edit" button hotkey to "E" -->
        <t t-jquery=".o_form_button_edit" t-operation="attributes">
            <attribute name="accesskey">e</attribute>
        </t>
        <!-- Change "Discard" button hotkey to "D" -->
        <t t-jquery=".o_form_button_cancel" t-operation="attributes">
            <attribute name="accesskey">d</attribute>
        </t>
        <!-- Add responsive icons to buttons -->
        <t t-jquery=".o_form_button_edit" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'pencil'" />
                <t t-set="label">Edit</t>
            </t>
        </t>
        <t t-jquery=".o_form_button_create" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'plus'" />
                <t t-set="label">Create</t>
            </t>
        </t>
        <t t-jquery=".o_form_button_save" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'check'" />
                <t t-set="label">Save</t>
            </t>
        </t>
        <t t-jquery=".o_form_button_cancel" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'times'" />
                <t t-set="label">Discard</t>
            </t>
        </t>
    </t>

    <t t-extend="KanbanView.buttons">
        <!-- Add responsive icons to buttons -->
        <t t-jquery="button" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'plus'" />
                <t t-set="label" t-value="create_text || _t('Create')" />
            </t>
        </t>
    </t>

    <t t-extend="ListView.buttons">
        <!-- Change "Discard" button hotkey to "D" -->
        <t t-jquery=".o_list_button_discard" t-operation="attributes">
            <attribute name="accesskey">d</attribute>
        </t>
        <!-- Add responsive icons to buttons -->
        <t t-jquery=".o_list_button_add" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'plus'" />
                <t t-set="label">Create</t>
            </t>
        </t>
        <t t-jquery=".o_list_button_save" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'check'" />
                <t t-set="label">Save</t>
            </t>
        </t>
        <t t-jquery=".o_list_button_discard" t-operation="inner">
            <t t-call="web_responsive.icon_button">
                <t t-set="icon" t-value="'times'" />
                <t t-set="label">Discard</t>
            </t>
        </t>
    </t>

    <t t-extend="Sidebar">
        <!-- Replace some common sections by icons in mobile -->
        <t
            t-jquery=".o_dropdown_toggler_btn t[t-esc='section.label']"
            t-operation="replace"
        >
            <t t-set="label" t-value="section.label" />
            <t t-if="section.name == 'files'">
                <t t-call="web_responsive.icon_button">
                    <t t-set="icon" t-value="'paperclip'" />
                </t>
            </t>
            <t t-elif="section.name == 'print'">
                <t t-call="web_responsive.icon_button">
                    <t t-set="icon" t-value="'print'" />
                </t>
            </t>
            <t t-elif="section.name == 'other'">
                <t t-call="web_responsive.icon_button">
                    <t t-set="icon" t-value="'wrench'" />
                </t>
            </t>
            <t t-else="">
                <span t-esc="label" />
            </t>
        </t>
    </t>

    <t t-extend="Menu">
        <t t-jquery=".o_menu_apps" t-operation="after">
            <!-- Hamburger button to show submenus in sm screens -->
            <button
                class="o-menu-toggle d-md-none"
                data-toggle="collapse"
                data-target=".o_main_navbar .o_menu_sections"
            >
                <i class="fa fa-bars" />
            </button>
        </t>
    </t>

    <t t-extend="AppsMenu">
        <!-- App icons must be clickable -->
        <t t-jquery=".o_app" t-operation="attributes">
            <attribute
                name="t-attf-href"
            >#menu_id=#{app.menuID}&amp;action_id=#{app.actionID}</attribute>
            <attribute name="draggable">false</attribute>
        </t>
        <!-- App icons should be more than a text -->
        <t t-jquery=".o_app &gt; t" t-operation="replace">
            <t t-call="web_responsive.AppIcon" />
        </t>
        <!-- Same hotkey as in EE -->
        <t t-jquery=".full" t-operation="attributes">
            <attribute name="accesskey">a</attribute>
        </t>
    </t>

    <!-- Separate app icon template, for easier inheritance -->
    <t t-name="web_responsive.AppIcon">
        <img
            class="o-app-icon"
            draggable="false"
            t-attf-src="data:image/png;base64,#{app.web_icon_data}"
        />
        <span class="o-app-name">
            <t t-esc="app.name" />
        </span>
    </t>

    <t t-extend="DocumentViewer">
        <t t-jquery=".o_modal_fullscreen" t-operation="attributes">
            <attribute
                name="class"
            >modal o_modal_fullscreen o_document_viewer o_responsive_document_viewer</attribute>
            <attribute name="data-backdrop">false</attribute>
        </t>
    </t>

    <t t-extend="DocumentViewer.Content">
        <t t-jquery=".o_close_btn" t-operation="replace">
            <div class="o_buttons float-right mr8">
                <a
                    role="button"
                    class="mr8 o_maximize_btn"
                    tabindex="0"
                    aria-label="Maximize"
                    title="Maximize"
                >
                    <i class="fa fa-window-maximize" />
                </a>
                <a
                    role="button"
                    class="mr8 o_minimize_btn"
                    tabindex="0"
                    aria-label="Minimize"
                    title="Minimize"
                >
                    <i class="fa fa-window-minimize" />
                </a>
                <a
                    role="button"
                    class="o_close_btn"
                    tabindex="0"
                    aria-label="Close"
                    title="Close"
                >
                    <i class="fa fa-close" />
                </a>
            </div>
        </t>
    </t>
</templates>